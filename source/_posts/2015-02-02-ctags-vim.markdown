---
layout: post
title: "vim与tags"
date: 2015-02-02 13:09:12 +0800
comments: true
categories: [ctags,vim]
---

### 生成`ctags`文件
* `ctags`生成指定语言的`tags`，```ctags -R --languages=php```
* 可支持php命名空间的ctags patch [https://github.com/shawncplus/phpcomplete.vim/wiki/Patched-ctags](https://github.com/shawncplus/phpcomplete.vim/wiki/Patched-ctags) 

### 在`vim`外部直接打开并定位到某一函数/类  
- `vim -t getInstance` 打开函数名为`getInstance`的文件并自动跳转到这个函数( 要在`tags`文件存在的目录)。
```
vim -t getInstance
vim -t /getInst 
vim -t /^getInst
```
- 如果有多个会让你选择，打开后可以用`:tn`,`:tp`,`:ts`选择前一个、后一个、列表选择

<!-- more -->

### 在`vim`内部使用tags
* `tag` 系列 *直接跳转到其中一个匹配的tag*
    - `tag {tag-regexp}`
    - `tn[ext]` (0tn 表示跳转到当前已经在的tag,但可以在状态栏显示当前是第几个tag) 
    - `tp[revious]`
    - `tr[ewind]`
    - `tN[ext]` == `tp`
    - `tf[irst]` 
    - `tl[ast]`


* `tselect` 系列 *选择tag列表*
    - `ts[elect] {tag-regexp}`
    - `sts[elect] {tag-regexp}` 在split窗口打开 


* `tjump`系列 *匹配一个就直接跳转，多个就让选择*
    - `tj[ump] {tag-regexp}`
    - `stj[ump] {tag-regexp}` 在split窗口中打开
    

* `tag-preview`系列 *在一个preview的窗口中打开*
    - 比如想看一个函数的使用，可以 `:ptj /cn_tr`，在一个preview窗口中打开这个函数
    - `pts[elect]` 
    - `ptj[ump]` 
    - `pta[g]` 
    - `ptn`,`ptp`,`ptf`,`ptl`...等


