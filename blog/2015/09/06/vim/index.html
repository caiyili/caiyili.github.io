
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>vim 伊利</title>
  <meta name="author" content="caiyili">

  
  <meta name="description" content="vim使用 打开文件 vim 输入完整路径 vim /path/to/file; vim src/www.xxx/app/service/page/a/b.php
vim /path/to/file +n; 打开指定文件，并跳转到第n行
vim /path/to/file +/regexp; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://caiyili.github.io/blog/2015/09/06/vim">
  <link href="/favicon.png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="伊利" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/jquery.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="/stylesheets/libs/a.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/libs/b.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/libs/c.css" rel="stylesheet" type="text/css">


<!--- MathJax Configuration -->
<script type="text/javascript" src="/javascripts/libs/MathJax.js"></script>

  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">伊利</a></h1>
  
    <h2>——My Blog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
  
  
  
  
<ul class="subscription">
  <li><a href="https://github.com/caiyili" rel="subscribe-github" title="@caiyili on GitHub">GitHub</a></li>
</ul>
  
  
  
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:caiyili.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about.html">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">vim</h1>
      
    
    
      
    
  </header>


<div class="entry-content"><p>vim使用</p>

<h3>打开文件</h3>

<!-- more -->


<ul>
<li>vim 输入完整路径

<ul>
<li>vim /path/to/file; vim src/www.xxx/app/service/page/a/b.php</li>
<li>vim /path/to/file +n; 打开指定文件，并跳转到第n行</li>
<li>vim /path/to/file +/regexp; 打开指定文件，并跳转到搜索 regexp行</li>
</ul>
</li>
<li><p>vim 内部的find命令</p>

<ul>
<li>vim :find/:sfind/:tabfind <filename>; 根据文件名称查找，会查找<path>(:h path)目录下的。</li>
<li><code>:set path+=**</code>, 设备path包含的目录。通配符<code>*</code>配置所有文件名，<code>**</code>配置所有递归目录。具体的可以(:h wildcard)</li>
<li>如果查找到多个，可以使用 [n]find 定位到第几个——无法直接把所有查到的结果列出来，但可以使用模糊匹配选择</li>
<li>命令行模糊补全

<ul>
<li><c-d> 列出候选列表,<tab>选择列表</li>
<li>set wildmenu|nowildmenu; 是否开启模糊查找</li>
<li>set wildmode=full|longest|list; 候选列表的模式</li>
<li>set wildchar=<tab> ;开始补全的起始键</li>
</ul>
</li>
<li>与内部的gf(:h gf)命令一致

<ul>
<li>~/.vimrc:4</li>
<li>~/.bash_profile 在新窗口中打开可以 <ctrl-w>gf</li>
</ul>
</li>
</ul>
</li>
<li><p>NERDTree[<em>插件</em>] 通过目录树打开</p>

<ul>
<li>:NERDTree</li>
</ul>
</li>
<li>ctrlp[<em>插件</em>]

<ul>
<li>可以模糊匹配——最长公共子串</li>
</ul>
</li>
<li>使用tags

<ul>
<li>current-directory

<ul>
<li>:cd 切换目录</li>
<li>:pwd 输出当前目录</li>
</ul>
</li>
<li>:set tags+=/path/to/tagfile 需要生成tags文件

<ul>
<li>set tags+=./tags</li>
<li>set tags+=~/share/tags 查看一些公共的函数库</li>
</ul>
</li>
<li>tags vim :ta[g]/ts[elect]/tj[ump] <tagname></li>
<li>vim -t <tagname></li>
<li><tagname>可以使用模式(:h tag-regexp)

<ul>
<li>tag main</li>
<li>tag /^getIns // starts with get</li>
<li>tag /norm //including &ldquo;id_norm&rdquo;</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>移动 motion</h3>

<ul>
<li>基本移动

<ul>
<li>h l j k</li>
<li>H: 移动到当前窗口的top [count]行</li>
<li>L: 移动到当前窗口的bottom [count]行</li>
<li>J: Join当前行与下一行(:h J)，同(:3,5j)</li>
</ul>
</li>
<li>行内移动

<ul>
<li>f, F, //移动当前光标后面的,号</li>
<li>t, T, //移动到当前当标后面的,号前一个</li>
<li>; 重复上一次行业查找</li>
<li>, 倒退一次</li>
</ul>
</li>
<li>整个单词地移动

<ul>
<li>w 下一个单词的开头，W 下一个字符串开头</li>
<li>e 下一个单词结尾</li>
<li>b 往前移动</li>
</ul>
</li>
<li>来回跳转jumplist

<ul>
<li>Ctrl-O 在jumplist里面后退[count]</li>
<li>Ctrl-I 在jumplist前进[count]</li>
<li>ju[mps] 显示jumplist</li>
</ul>
</li>
<li>修改列表changes

<ul>
<li>g; 跳转到前一次修改的地方</li>
<li>g, 跳转到后一次修改的地方</li>
<li>:changes 显示修改列表</li>
</ul>
</li>
<li>移动窗口(:h scroll-cursor)

<ul>
<li>zt/z<CR> 把cursor移到到窗口顶部，区别是是否改变列值</li>
<li>z./zz 把当前行移动到窗口中间</li>
</ul>
</li>
</ul>


<h3>文本对象 text-object</h3>

<ul>
<li>以一定的标准分隔符来区分一段文本，比如：一个单词，一句话，一个段落&hellip;</li>
<li>vim的编辑命令 <number><command><text-object or motion>

<ul>
<li>参考(:h text-object) (:h motion)</li>
</ul>
</li>
<li>编辑命令

<ul>
<li>y yank</li>
<li>d delete</li>
<li>c change 替换</li>
<li>v 选中 v:characterwise V:line-wise <ctrl-v>:block-wise</li>
</ul>
</li>
<li>操作对象

<ul>
<li>w/W 一个单词</li>
<li>b/B 在括号里面的，同()/{}</li>
<li>&lt;>/{}/()/[] 相匹配的括号里面</li>
<li>&lsquo;/&ldquo; 引号引起来的</li>
<li>s/S 一个句子, 以&#8217;.&lsquo;,&rsquo;!&lsquo;,&rsquo;?&lsquo;结尾(:h sentence)</li>
<li>p/P 段落, 以空行分隔</li>
<li><tag> html和xml标签里面</li>
</ul>
</li>
<li>操作范围

<ul>
<li>i inner, 不包含空格或包围符本身</li>
<li>a around, 包括空格或包围符本身</li>
</ul>
</li>
<li>举例

<ul>
<li>diw di(  ci{ yi&#8221; //  &ldquo;copy this&rdquo;</li>
<li>daw dap da( // (delete this)</li>
<li>(:h motion) 把括号里面的内容当vim命令去执行，<code>"ayi( @a</code> // nmap hp yi(@&ldquo;<cr></li>
</ul>
</li>
</ul>


<h3>vim寄存器的使用</h3>

<ul>
<li>所有可用的寄存器<code>{a-zA-Z0-9.%#:-"}</code>

<ul>
<li>:reg {arg} 显示寄存器里面的内容</li>
</ul>
</li>
<li>普通模式下

<ul>
<li>复制(:h yank)

<ul>
<li>[&ldquo;x]y{motion} 把{motion}中包含的内容复制到x寄存器.x如果未指定则使用默认的&#8221;寄存器</li>
<li>x如果是大写X，则表示以append的方式复制</li>
</ul>
</li>
<li>粘贴(:h paste)

<ul>
<li>[&ldquo;x]p 把x寄存器里面的内容粘贴到cursor之后</li>
<li>[&ldquo;x]P 把x寄存器里面的内容粘贴到cursor之前</li>
</ul>
</li>
</ul>
</li>
<li>选择模式下

<ul>
<li>复制

<ul>
<li>{Visual}[&ldquo;x]y 选择模式下的复制</li>
</ul>
</li>
</ul>
</li>
<li>命令行模式下

<ul>
<li>复制

<ul>
<li>[line]yank x ;把[line]行复制到x寄存器</li>
<li>[line]yank X ;append的方式复制</li>
</ul>
</li>
<li>粘贴

<ul>
<li>[line]put[!] x ;把x寄存器的内容粘贴到[line]行之前</li>
</ul>
</li>
<li>移动

<ul>
<li>[range]m[line] 把[range]中指定的行移动到第[line]行</li>
<li>[range]t[line] 把[range]中指定的行复制到每[line]行</li>
</ul>
</li>
</ul>
</li>
<li><p>插入模式下</p>

<ul>
<li>粘贴

<ul>
<li><c-r>x 把x寄存器的内容粘贴到光标位置</li>
</ul>
</li>
</ul>
</li>
<li><p>特殊寄存器总结(:h quote0)</p>

<ul>
<li>无名寄存器(&ldquo;&rdquo;)

<ul>
<li>x s d{motion} c{motion} y{motion}命令以及他们对应的大写命令都会覆盖无名寄存器</li>
</ul>
</li>
<li>复制专用寄存器(&ldquo;0)

<ul>
<li>y{motion} 不仅会复制到无名寄存器，同时也会复制一份到复制专用寄存器</li>
</ul>
</li>
<li>黑洞寄存器<code>("_)</code>

<ul>
<li>&ldquo;_d{motion} 删除该文本，不保存副本，不会覆盖无名寄存器</li>
</ul>
</li>
<li>系统剪贴板(&ldquo;+) <code>("*)</code>

<ul>
<li><code>+</code> 系统剪切板 <code>*</code> 主剪切板, 在windows和mac中无区别</li>
<li>查看vim是否被激活，(:version) 命令，找xterm_clipboard</li>
</ul>
</li>
<li>表达式寄存器(&ldquo;=)

<ul>
<li>可以输入一段vim脚本</li>
</ul>
</li>
<li>只读寄存器

<ul>
<li>% 当前文件名</li>
<li><code>#</code> 轮换文件名</li>
<li>. 上次插入的文本</li>
<li>: 上次执行的ex命令</li>
<li>/ 上次执行的查找 (如何在命令行里快速输入上次查找的字符)</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>宏</h3>

<ul>
<li>最简单的宏<code>.</code>

<ul>
<li><code>.</code> 命令——重复上次的修改

<ul>
<li>($a, $b), ($a, $b); 把括号里面的内容改为($a)</li>
</ul>
</li>
</ul>
</li>
<li>录制宏

<ul>
<li>q{register} xxxx  q</li>
</ul>
</li>
<li>回放宏

<ul>
<li>@{register}</li>
</ul>
</li>
<li>宏的使用举例</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>程方鹤  961552258
</span><span class='line'>熊利               500118888
</span><span class='line'>黄汉华               581392038
</span><span class='line'>陶冶（增加）               916976488
</span><span class='line'>许磊               874901218
</span><span class='line'>刘艳峰               373722748
</span><span class='line'>贺诚彰               583275308
</span><span class='line'>林元               793808678
</span><span class='line'>何彦辛               833153378
</span><span class='line'>赵御博               916794588
</span><span class='line'>肖清武               667396418</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>961552258,//1. 程方鹤
</span><span class='line'>500118888,//2. 熊利
</span><span class='line'>581392038,//3. 黄汉华
</span><span class='line'>916976488,//4. 陶冶（增加）
</span><span class='line'>874901218,//5. 许磊
</span><span class='line'>373722748,//6. 刘艳峰
</span><span class='line'>583275308,//7. 贺诚彰
</span><span class='line'>793808678,//8. 林元
</span><span class='line'>833153378,//9. 何彦辛
</span><span class='line'>916794588,//10. 赵御博
</span><span class='line'>667396418,//11. 肖清武</span></code></pre></td></tr></table></div></figure>


<ul>
<li>使用技巧

<ul>
<li>使用兼容性更好的移动方式——放弃使用hljk移动，多使用f/t/w/b/e/0/$这种</li>
<li>让你的操作可重复</li>
</ul>
</li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  



  <span class="byline author vcard">Authored by <span class="fn">
  
  <a href="https://github.com/caiyili" rel="author">@caiyili</a>
  
  </span></span>


      




2015-09-06 23:18:42 +0800
      

<span class="categories">
  
    <a class='category' href='/blog/categories/vim/'>vim</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/09/06/ssh/" title="Previous Post: ssh">&laquo; ssh</a>
      
      
    </p>
  </footer>
</article>


</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - caiyili -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  












</body>
</html>
